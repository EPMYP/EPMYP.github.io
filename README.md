# æ–°ä¸€ä»£ä¸ªäººå®‰å…¨æŠ€æœ¯åšå®¢

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„æ–°ä¸€ä»£ä¸ªäººå®‰å…¨æŠ€æœ¯åšå®¢ç³»ç»Ÿï¼Œé‡‡ç”¨ç°ä»£åŒ–VueæŠ€æœ¯æ ˆï¼Œæ”¯æŒæ–‡ç« åŠ å¯†ã€æ ‡ç­¾ç®¡ç†ã€å®æ—¶é¢„è§ˆã€ç”¨æˆ·è®¤è¯ã€èµèµåŠŸèƒ½ã€AIæ‘˜è¦ç­‰ã€‚ä¸“ä¸ºæŠ€æœ¯çˆ±å¥½è€…å’Œå®‰å…¨ç ”ç©¶äººå‘˜è®¾è®¡ï¼Œæä¾›æè‡´çš„å†™ä½œå’Œé˜…è¯»ä½“éªŒã€‚

## ğŸš€ GitHub Pages è‡ªåŠ¨éƒ¨ç½²

æœ¬é¡¹ç›®å·²é…ç½®GitHub Actionsï¼Œæ”¯æŒè‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²åˆ°GitHub Pagesã€‚åªéœ€å°†ä»£ç æ¨é€åˆ°GitHubä»“åº“ï¼Œå³å¯è‡ªåŠ¨å‘å¸ƒç½‘é¡µã€‚

è¯¦ç»†éƒ¨ç½²æŒ‡å—è¯·æŸ¥çœ‹ [GITHUB_DEPLOY.md](./GITHUB_DEPLOY.md)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ¨ **ç§‘æŠ€æ„ŸUIè®¾è®¡** - å¯Œå«è®¡ç®—æœºç§‘å­¦ç½‘ç»œé«˜æ–°æŠ€æœ¯çš„å…ƒç´ ä¸»é¢˜ï¼Œä»£ç é£æ ¼ã€ç»ˆç«¯é£æ ¼ã€ç½‘ç»œèŠ‚ç‚¹ã€æ•°æ®æµç­‰åŠ¨æ€æ•ˆæœ
- ğŸ”’ **æ–‡ç« åŠ å¯†** - æ”¯æŒAES-128ã€AES-256ã€SHA256ã€SHA512å¤šç§åŠ å¯†æ–¹å¼
- ğŸ·ï¸ **æ ‡ç­¾ç®¡ç†** - ä¸ºæ–‡ç« æ·»åŠ å¤šä¸ªæ ‡ç­¾ï¼Œæ–¹ä¾¿åˆ†ç±»å’Œæ£€ç´¢
- ğŸ‘ï¸ **å®æ—¶é¢„è§ˆ** - æ”¯æŒMarkdownå’ŒHTMLï¼Œè¾¹å†™è¾¹é¢„è§ˆ
- ğŸ” **æ™ºèƒ½æœç´¢** - å…¨æ–‡æœç´¢åŠŸèƒ½ï¼Œæ”¯æŒå…³é”®è¯æœç´¢å’Œæ ‡ç­¾ç­›é€‰
- ğŸ’° **èµèµåŠŸèƒ½** - æ”¯æŒå¾®ä¿¡ã€æ”¯ä»˜å®ã€USDT-TRC20ã€Bitcoinã€Ethereumç­‰å¤šç§æ”¯ä»˜æ–¹å¼
- ğŸ¤– **AIæ™ºèƒ½æ‘˜è¦** - è‡ªåŠ¨ç”Ÿæˆæ–‡ç« æ‘˜è¦å’Œé‡ç‚¹å†…å®¹ï¼ˆæ”¯æŒOpenAIç­‰ï¼‰
- ğŸ“¸ **æ–‡ç« å°é¢** - æ”¯æŒä¸Šä¼ å’Œè®¾ç½®æ–‡ç« å°é¢å›¾ç‰‡
- ğŸ’» **ä»£ç é«˜äº®** - ä½¿ç”¨GitHubä»£ç å—æ ·å¼ï¼Œæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€

### ç”¨æˆ·ç³»ç»Ÿ
- ğŸ‘¤ **ç”¨æˆ·æ³¨å†Œç™»å½•** - é‚®ç®±æ³¨å†Œã€å¯†ç ç™»å½•
- âœ‰ï¸ **é‚®ç®±éªŒè¯** - æ³¨å†Œåå‘é€éªŒè¯é‚®ä»¶
- ğŸ” **å¯†ç é‡ç½®** - å¿˜è®°å¯†ç åŠŸèƒ½
- ğŸ”— **OAuthç™»å½•** - æ”¯æŒGitHubã€Googleã€QQã€å¾®ä¿¡ç™»å½•
- ğŸ‘¥ **ç”¨æˆ·ç®¡ç†** - ç®¡ç†å‘˜åå°ç®¡ç†ç”¨æˆ·

### æ•°æ®å­˜å‚¨
- ğŸ’¾ **JSONæ–‡ä»¶å­˜å‚¨** - ä½¿ç”¨JSONæ–‡ä»¶å­˜å‚¨æ‰€æœ‰æ•°æ®ï¼Œæ— éœ€MySQLæ•°æ®åº“
- ğŸ“Š **æ•°æ®ç®¡ç†** - æ•°æ®å­˜å‚¨åœ¨ `server/data` ç›®å½•ï¼Œä¾¿äºå¤‡ä»½å’Œç®¡ç†
- ğŸ”„ **è‡ªåŠ¨åˆå§‹åŒ–** - é¦–æ¬¡å¯åŠ¨è‡ªåŠ¨åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜è´¦æˆ·

### éƒ¨ç½²æ”¯æŒ
- ğŸš€ **1Paneléƒ¨ç½²** - å®Œæ•´çš„1Paneléƒ¨ç½²è„šæœ¬å’Œé…ç½®
- ğŸš€ **aaPaneléƒ¨ç½²** - å®Œæ•´çš„aaPaneléƒ¨ç½²è„šæœ¬å’Œé…ç½®
- ğŸ“¦ **GitHub Pages** - å‰ç«¯é™æ€æ–‡ä»¶å¯éƒ¨ç½²åˆ°GitHub Pages
- ğŸ”§ **Dockeræ”¯æŒ** - å¯å®¹å™¨åŒ–éƒ¨ç½²

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- Vue 3 (Composition API)
- Vite
- Axios (HTTPå®¢æˆ·ç«¯)
- Highlight.js (ä»£ç é«˜äº®)
- Marked (Markdownè§£æ)
- Pinia (çŠ¶æ€ç®¡ç†)
- Vue Router (è·¯ç”±)

### åç«¯
- Node.js + Express
- JSONæ–‡ä»¶å­˜å‚¨ï¼ˆæ— éœ€æ•°æ®åº“ï¼‰
- JWT (èº«ä»½è®¤è¯)
- Passport.js (OAuthè®¤è¯)
- Nodemailer (é‚®ä»¶å‘é€)
- Multer (æ–‡ä»¶ä¸Šä¼ )
- Sharp (å›¾ç‰‡å¤„ç†)
- bcryptjs (å¯†ç åŠ å¯†)

## ğŸ“¦ å®‰è£…å’Œè¿è¡Œ

### æœ¬åœ°å¼€å‘

1. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/your-username/your-repo-name.git
   cd your-repo-name
   ```

2. **å®‰è£…å‰ç«¯ä¾èµ–**
   ```bash
   npm install
   ```

3. **å®‰è£…åç«¯ä¾èµ–**
   ```bash
   cd server
   npm install
   ```

4. **é…ç½®ç¯å¢ƒå˜é‡**
   ```bash
   cd server
   # åˆ›å»º .env æ–‡ä»¶ï¼Œé…ç½®JWTå¯†é’¥ã€é‚®ç®±ç­‰ï¼ˆæ— éœ€æ•°æ®åº“é…ç½®ï¼‰
   nano .env
   ```
   
   æœ€å°é…ç½®ç¤ºä¾‹ï¼š
   ```env
   JWT_SECRET=your_random_secret_key
   PORT=3000
   ```

6. **å¯åŠ¨åç«¯æœåŠ¡**
   ```bash
   npm run dev
   # æˆ–
   npm start
   ```

7. **å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨**ï¼ˆæ–°ç»ˆç«¯ï¼‰
   ```bash
   cd ..
   npm run dev
   ```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºå‰ç«¯
npm run build

# åç«¯å·²é…ç½®ä¸ºç”Ÿäº§æ¨¡å¼
cd server
npm start
```

## ğŸš€ éƒ¨ç½²æŒ‡å—

æœ¬é¡¹ç›®æ”¯æŒå¤šç§éƒ¨ç½²æ–¹å¼ï¼ŒåŒ…æ‹¬GitHub Pagesã€1Panelå’ŒaaPanelã€‚æ ¹æ®æ‚¨çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„éƒ¨ç½²æ–¹å¼ã€‚

### ğŸ“‹ éƒ¨ç½²æ–¹å¼å¯¹æ¯”

| éƒ¨ç½²æ–¹å¼ | é€‚ç”¨åœºæ™¯ | å‰ç«¯ | åç«¯ | æ•°æ®åº“ |
|---------|---------|------|------|--------|
| GitHub Pages | é™æ€å±•ç¤ºã€ä¸ªäººåšå®¢ | âœ… | âŒ | âŒ |
| 1Panel | å®Œæ•´åŠŸèƒ½ã€å›½å†…æœåŠ¡å™¨ | âœ… | âœ… | JSONæ–‡ä»¶ |
| aaPanel | å®Œæ•´åŠŸèƒ½ã€å®å¡”ç”¨æˆ· | âœ… | âœ… | JSONæ–‡ä»¶ |

---

## ğŸŒ æ–¹å¼ä¸€ï¼šGitHub Pages éƒ¨ç½²ï¼ˆä»…å‰ç«¯ï¼‰

GitHub Pagesé€‚åˆéƒ¨ç½²é™æ€å‰ç«¯ï¼Œé€‚åˆå±•ç¤ºå‹åšå®¢ã€‚åç«¯éœ€è¦å•ç‹¬éƒ¨ç½²åˆ°æœåŠ¡å™¨ã€‚

### å‰ç½®è¦æ±‚
- GitHubè´¦å·
- å·²åˆ›å»ºGitHubä»“åº“

### éƒ¨ç½²æ­¥éª¤

#### 1. å‡†å¤‡ä»£ç 

```bash
# å…‹éš†æˆ–Forkä»“åº“
git clone https://github.com/your-username/my-secure-blog.git
cd my-secure-blog
```

#### 2. é…ç½®ä»“åº“åç§°

å¦‚æœæ‚¨çš„ä»“åº“åä¸æ˜¯ `my-secure-blog`ï¼Œéœ€è¦ä¿®æ”¹é…ç½®ï¼š

**æ–¹æ³•ä¸€ï¼šä¿®æ”¹ `vite.config.js`**
```javascript
export default {
  base: '/your-repo-name/',  // ä¿®æ”¹ä¸ºæ‚¨çš„ä»“åº“å
  // ...
}
```

**æ–¹æ³•äºŒï¼šè®¾ç½®ç¯å¢ƒå˜é‡**
åœ¨ `.github/workflows/deploy.yml` ä¸­ä¼šè‡ªåŠ¨ä½¿ç”¨ä»“åº“åï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚

#### 3. æ¨é€ä»£ç åˆ°GitHub

```bash
git add .
git commit -m "Deploy to GitHub Pages"
git push origin main
```

#### 4. å¯ç”¨GitHub Pages

1. è¿›å…¥GitHubä»“åº“é¡µé¢
2. ç‚¹å‡» **Settings** â†’ **Pages**
3. åœ¨ **Source** ä¸‹æ‹‰èœå•ä¸­é€‰æ‹© **GitHub Actions**
4. ä¿å­˜è®¾ç½®

#### 5. æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€

1. ç‚¹å‡»ä»“åº“é¡¶éƒ¨çš„ **Actions** æ ‡ç­¾
2. æŸ¥çœ‹ "Deploy to GitHub Pages" å·¥ä½œæµ
3. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆé€šå¸¸éœ€è¦1-2åˆ†é’Ÿï¼‰

#### 6. è®¿é—®ç½‘ç«™

éƒ¨ç½²å®Œæˆåï¼Œè®¿é—®åœ°å€ï¼š
```
https://[æ‚¨çš„GitHubç”¨æˆ·å].github.io/[ä»“åº“å]/
```

ä¾‹å¦‚ï¼š`https://username.github.io/my-secure-blog/`

### é…ç½®åç«¯APIï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦åœ¨GitHub Pagesä¸Šä½¿ç”¨å®Œæ•´åŠŸèƒ½ï¼Œéœ€è¦å•ç‹¬éƒ¨ç½²åç«¯ï¼š

1. å°†åç«¯éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼ˆå‚è€ƒ1Panelæˆ–aaPaneléƒ¨ç½²ï¼‰
2. åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š
```env
VITE_API_URL=https://your-backend-domain.com/api
```

3. é‡æ–°æ„å»ºå¹¶æ¨é€ï¼š
```bash
npm run build
git add .
git commit -m "Update API URL"
git push origin main
```

### æ³¨æ„äº‹é¡¹

- âš ï¸ GitHub Pagesåªæ”¯æŒé™æ€æ–‡ä»¶ï¼Œæ— æ³•è¿è¡ŒNode.jsåç«¯
- âš ï¸ å¦‚éœ€å®Œæ•´åŠŸèƒ½ï¼ˆç™»å½•ã€æ–‡ç« ç®¡ç†ç­‰ï¼‰ï¼Œå¿…é¡»å•ç‹¬éƒ¨ç½²åç«¯
- âš ï¸ å»ºè®®ä½¿ç”¨HTTPSè®¿é—®ï¼ˆGitHub Pagesé»˜è®¤æ”¯æŒï¼‰

---

## ğŸ–¥ï¸ æ–¹å¼äºŒï¼š1Panel éƒ¨ç½²ï¼ˆå®Œæ•´åŠŸèƒ½ï¼‰

1Panelæ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„LinuxæœåŠ¡å™¨è¿ç»´ç®¡ç†é¢æ¿ï¼Œé€‚åˆéƒ¨ç½²å®Œæ•´çš„åšå®¢ç³»ç»Ÿã€‚

### å‰ç½®è¦æ±‚
- LinuxæœåŠ¡å™¨ï¼ˆæ¨èUbuntu 20.04+æˆ–CentOS 7+ï¼‰
- å·²å®‰è£…1Panelé¢æ¿
- Node.js 18+ï¼ˆå¯é€šè¿‡1Panelåº”ç”¨å•†åº—å®‰è£…ï¼‰
- Nginxï¼ˆç”¨äºåå‘ä»£ç†ï¼‰

### éƒ¨ç½²æ­¥éª¤

#### 1. ä¸Šä¼ ä»£ç åˆ°æœåŠ¡å™¨

**æ–¹æ³•ä¸€ï¼šä½¿ç”¨Gitå…‹éš†ï¼ˆæ¨èï¼‰**
```bash
# SSHç™»å½•æœåŠ¡å™¨
ssh root@your-server-ip

# è¿›å…¥ç½‘ç«™ç›®å½•
cd /www/wwwroot

# å…‹éš†ä»“åº“
git clone https://github.com/your-username/my-secure-blog.git
cd my-secure-blog
```

**æ–¹æ³•äºŒï¼šä½¿ç”¨1Panelæ–‡ä»¶ç®¡ç†**
1. è¿›å…¥1Panel â†’ æ–‡ä»¶ç®¡ç†
2. ä¸Šä¼ é¡¹ç›®å‹ç¼©åŒ…åˆ° `/www/wwwroot`
3. è§£å‹æ–‡ä»¶

#### 2. è¿è¡Œéƒ¨ç½²è„šæœ¬

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /www/wwwroot/my-secure-blog

# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x 1panel-deploy.sh

# è¿è¡Œéƒ¨ç½²è„šæœ¬
./1panel-deploy.sh
```

éƒ¨ç½²è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- å®‰è£…å‰ç«¯ä¾èµ–
- å®‰è£…åç«¯ä¾èµ–
- æ„å»ºå‰ç«¯é¡¹ç›®
- åˆ›å»ºå¿…è¦çš„ç›®å½•

#### 3. é…ç½®ç¯å¢ƒå˜é‡

```bash
# è¿›å…¥åç«¯ç›®å½•
cd server

# åˆ›å»º.envæ–‡ä»¶
nano .env
```

**æœ€å°é…ç½®ç¤ºä¾‹ï¼š**
```env
# JWTå¯†é’¥ï¼ˆè¯·ä½¿ç”¨å¼ºéšæœºå­—ç¬¦ä¸²ï¼‰
JWT_SECRET=your_random_secret_key_here_min_32_chars
JWT_EXPIRE=7d

# æœåŠ¡å™¨ç«¯å£
PORT=3000

# å‰ç«¯åœ°å€ï¼ˆç”¨äºOAuthå›è°ƒï¼‰
FRONTEND_URL=http://your-domain.com
```

**å®Œæ•´é…ç½®ç¤ºä¾‹ï¼š**
```env
# JWTé…ç½®
JWT_SECRET=your_random_secret_key_here_min_32_chars
JWT_EXPIRE=7d

# æœåŠ¡å™¨é…ç½®
PORT=3000
NODE_ENV=production
FRONTEND_URL=http://your-domain.com

# é‚®ç®±é…ç½®ï¼ˆç”¨äºå‘é€éªŒè¯ç ã€é‡ç½®å¯†ç ç­‰ï¼‰
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
SMTP_FROM=noreply@yourdomain.com

# GitHub OAuthï¼ˆå¯é€‰ï¼‰
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# Google OAuthï¼ˆå¯é€‰ï¼‰
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# AIæ‘˜è¦æœåŠ¡ï¼ˆå¯é€‰ï¼‰
AI_API_KEY=your_openai_api_key
AI_PROVIDER=openai
```

ä¿å­˜æ–‡ä»¶ï¼šæŒ‰ `Ctrl+X`ï¼Œç„¶åè¾“å…¥ `Y`ï¼Œå†æŒ‰ `Enter`

#### 4. åœ¨1Panelä¸­åˆ›å»ºNode.jsåº”ç”¨

1. è¿›å…¥1Panelé¢æ¿
2. ç‚¹å‡» **åº”ç”¨å•†åº—** â†’ **Node.js**
3. ç‚¹å‡» **åˆ›å»ºåº”ç”¨**
4. å¡«å†™é…ç½®ï¼š
   - **åº”ç”¨åç§°**ï¼šmy-secure-blog
   - **åº”ç”¨ç›®å½•**ï¼š`/www/wwwroot/my-secure-blog/server`
   - **å¯åŠ¨æ–‡ä»¶**ï¼š`index.js`
   - **è¿è¡Œå‘½ä»¤**ï¼š`node index.js`
   - **ç«¯å£**ï¼š3000ï¼ˆæˆ–æ‚¨.envä¸­é…ç½®çš„ç«¯å£ï¼‰
   - **è¿è¡Œç”¨æˆ·**ï¼šwwwï¼ˆæˆ–rootï¼‰
5. ç‚¹å‡» **ç¡®è®¤** åˆ›å»ºåº”ç”¨
6. å¯åŠ¨åº”ç”¨

#### 5. é…ç½®Nginxåå‘ä»£ç†

1. è¿›å…¥1Panel â†’ **ç½‘ç«™** â†’ **åˆ›å»ºç½‘ç«™**
2. å¡«å†™åŸŸåï¼š`your-domain.com`
3. åˆ›å»ºå®Œæˆåï¼Œç‚¹å‡» **è®¾ç½®** â†’ **é…ç½®æ–‡ä»¶**
4. æ›¿æ¢ä¸ºä»¥ä¸‹é…ç½®ï¼š

```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /www/wwwroot/my-secure-blog/dist;
        index index.html;
        try_files $uri $uri/ /index.html;
    }
    
    # åç«¯API
    location /api {
        proxy_pass http://127.0.0.1:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
        proxy_read_timeout 300s;
        proxy_connect_timeout 75s;
    }
    
    # æ–‡ä»¶ä¸Šä¼ ç›®å½•
    location /uploads {
        alias /www/wwwroot/my-secure-blog/server/uploads;
        expires 30d;
        add_header Cache-Control "public, immutable";
    }
    
    # é™æ€èµ„æºç¼“å­˜
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        root /www/wwwroot/my-secure-blog/dist;
        expires 365d;
        add_header Cache-Control "public, immutable";
    }
}
```

5. ä¿å­˜é…ç½®å¹¶é‡è½½Nginx

#### 6. é…ç½®SSLè¯ä¹¦ï¼ˆæ¨èï¼‰

1. è¿›å…¥ç½‘ç«™è®¾ç½® â†’ **SSL**
2. é€‰æ‹© **Let's Encrypt** å…è´¹è¯ä¹¦
3. å¡«å†™é‚®ç®±ï¼Œç‚¹å‡» **ç”³è¯·**
4. å¼€å¯ **å¼ºåˆ¶HTTPS**

#### 7. è®¾ç½®æ–‡ä»¶æƒé™

```bash
# è®¾ç½®æ•°æ®ç›®å½•æƒé™
chmod -R 755 /www/wwwroot/my-secure-blog/server/data
chown -R www:www /www/wwwroot/my-secure-blog/server/data

# è®¾ç½®ä¸Šä¼ ç›®å½•æƒé™
chmod -R 755 /www/wwwroot/my-secure-blog/server/uploads
chown -R www:www /www/wwwroot/my-secure-blog/server/uploads
```

#### 8. è®¿é—®ç½‘ç«™

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://your-domain.com` æˆ– `https://your-domain.com`

### å¸¸è§é—®é¢˜

**Q: ç«¯å£è¢«å ç”¨æ€ä¹ˆåŠï¼Ÿ**
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
lsof -i:3000
# æˆ–ä¿®æ”¹.envä¸­çš„PORTä¸ºå…¶ä»–ç«¯å£ï¼ˆå¦‚3001ï¼‰
```

**Q: æ•°æ®æ–‡ä»¶æƒé™é”™è¯¯ï¼Ÿ**
```bash
chmod -R 755 server/data server/uploads
chown -R www:www server/data server/uploads
```

**Q: å¦‚ä½•æŸ¥çœ‹æ—¥å¿—ï¼Ÿ**
- åº”ç”¨æ—¥å¿—ï¼š1Panel â†’ åº”ç”¨ â†’ my-secure-blog â†’ æ—¥å¿—
- ç³»ç»Ÿæ—¥å¿—ï¼š`tail -f /www/wwwroot/my-secure-blog/server/logs/*.log`

---

## ğŸ›ï¸ æ–¹å¼ä¸‰ï¼šaaPanel éƒ¨ç½²ï¼ˆå®Œæ•´åŠŸèƒ½ï¼‰

aaPanelæ˜¯å®å¡”é¢æ¿çš„å›½é™…ç‰ˆï¼Œé€‚åˆç†Ÿæ‚‰å®å¡”é¢æ¿çš„ç”¨æˆ·ã€‚

### å‰ç½®è¦æ±‚
- LinuxæœåŠ¡å™¨
- å·²å®‰è£…aaPanelé¢æ¿
- Node.js 18+ï¼ˆå¯é€šè¿‡aaPanelåº”ç”¨å•†åº—å®‰è£…ï¼‰
- Nginx

### éƒ¨ç½²æ­¥éª¤

#### 1. ä¸Šä¼ ä»£ç 

```bash
# SSHç™»å½•æœåŠ¡å™¨
ssh root@your-server-ip

# è¿›å…¥ç½‘ç«™ç›®å½•
cd /www/wwwroot

# å…‹éš†ä»“åº“
git clone https://github.com/your-username/my-secure-blog.git
cd my-secure-blog
```

#### 2. è¿è¡Œéƒ¨ç½²è„šæœ¬

```bash
# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x aapanel-deploy.sh

# è¿è¡Œéƒ¨ç½²è„šæœ¬
./aapanel-deploy.sh
```

#### 3. é…ç½®ç¯å¢ƒå˜é‡

åŒ1Paneléƒ¨ç½²æ­¥éª¤3ï¼Œåˆ›å»º `server/.env` æ–‡ä»¶ã€‚

#### 4. åœ¨aaPanelä¸­åˆ›å»ºNode.jsåº”ç”¨

1. è¿›å…¥aaPanel â†’ **App Store** â†’ **Node.js**
2. ç‚¹å‡» **Create**
3. å¡«å†™é…ç½®ï¼š
   - **App Name**: my-secure-blog
   - **App Path**: `/www/wwwroot/my-secure-blog/server`
   - **Start File**: `index.js`
   - **Port**: 3000
4. ç‚¹å‡» **Create** åˆ›å»ºåº”ç”¨
5. å¯åŠ¨åº”ç”¨

#### 5. é…ç½®Nginx

1. è¿›å…¥aaPanel â†’ **Website** â†’ **Add Site**
2. å¡«å†™åŸŸåï¼š`your-domain.com`
3. åˆ›å»ºå®Œæˆåï¼Œç‚¹å‡» **Settings** â†’ **Configuration File**
4. ä½¿ç”¨ä¸1Panelç›¸åŒçš„Nginxé…ç½®ï¼ˆè§ä¸Šæ–¹ï¼‰

#### 6. é…ç½®SSLå’Œæ–‡ä»¶æƒé™

åŒ1Paneléƒ¨ç½²æ­¥éª¤6å’Œ7ã€‚

---

## ğŸ“ éƒ¨ç½²åé…ç½®

### åˆå§‹åŒ–ç®¡ç†å‘˜è´¦æˆ·

é¦–æ¬¡å¯åŠ¨åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜è´¦æˆ·ï¼š
- **ç”¨æˆ·å**ï¼šadmin
- **å¯†ç **ï¼šadmin123ï¼ˆæˆ–é€šè¿‡ç¯å¢ƒå˜é‡ `ADMIN_PASSWORD` è®¾ç½®ï¼‰

âš ï¸ **é‡è¦**ï¼šç™»å½•åè¯·ç«‹å³ä¿®æ”¹å¯†ç ï¼

### æ•°æ®å¤‡ä»½

é¡¹ç›®ä½¿ç”¨JSONæ–‡ä»¶å­˜å‚¨ï¼Œæ•°æ®ä½äº `server/data` ç›®å½•ï¼š

```bash
# å¤‡ä»½æ•°æ®
tar -czf backup-$(date +%Y%m%d).tar.gz server/data

# æ¢å¤æ•°æ®
tar -xzf backup-20240101.tar.gz -C server/
```

### æ›´æ–°éƒ¨ç½²

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /www/wwwroot/my-secure-blog

# æ‹‰å–æœ€æ–°ä»£ç 
git pull

# æ›´æ–°ä¾èµ–
cd server && npm install --production
cd .. && npm install

# é‡æ–°æ„å»ºå‰ç«¯
npm run build

# é‡å¯Node.jsåº”ç”¨ï¼ˆåœ¨1Panel/aaPanelä¸­æ“ä½œï¼‰
```

---

## ğŸ”§ è¯¦ç»†éƒ¨ç½²æ–‡æ¡£

æ›´å¤šéƒ¨ç½²ç»†èŠ‚è¯·å‚è€ƒï¼š
- [DEPLOYMENT.md](./DEPLOYMENT.md) - è¯¦ç»†éƒ¨ç½²æŒ‡å—
- [GITHUB_DEPLOY.md](./GITHUB_DEPLOY.md) - GitHub Pageséƒ¨ç½²æŒ‡å—

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®

åœ¨ `server/.env` æ–‡ä»¶ä¸­é…ç½®ï¼š

#### å¿…éœ€é…ç½®
```env
# JWT
JWT_SECRET=your_jwt_secret_key
JWT_EXPIRE=7d

# æœåŠ¡å™¨
PORT=3000
```

#### å¯é€‰é…ç½®
```env
# é‚®ç®±ï¼ˆç”¨äºå‘é€éªŒè¯ç ï¼‰
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_password
SMTP_FROM=noreply@yourdomain.com

# OAuthï¼ˆGitHubã€Googleã€QQã€å¾®ä¿¡ï¼‰
GITHUB_CLIENT_ID=your_client_id
GITHUB_CLIENT_SECRET=your_client_secret
GITHUB_CALLBACK_URL=http://your-domain.com/api/auth/github/callback

# AIæ‘˜è¦ï¼ˆOpenAIç­‰ï¼‰
AI_API_KEY=your_ai_api_key
AI_PROVIDER=openai
```

### å‰ç«¯é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š
```env
VITE_API_URL=http://localhost:3000/api
VITE_GITHUB_REPO=your-username/my-secure-blog
VITE_GITHUB_TOKEN=your_github_token
```

## ğŸ“– ä½¿ç”¨è¯´æ˜

### ç”¨æˆ·æ³¨å†Œå’Œç™»å½•

1. **é‚®ç®±æ³¨å†Œ**
   - è®¿é—®æ³¨å†Œé¡µé¢
   - å¡«å†™ç”¨æˆ·åã€é‚®ç®±ã€å¯†ç 
   - æŸ¥æ”¶éªŒè¯é‚®ä»¶å¹¶ç‚¹å‡»éªŒè¯é“¾æ¥

2. **OAuthç™»å½•**
   - ç‚¹å‡»å¯¹åº”çš„OAuthç™»å½•æŒ‰é’®ï¼ˆGitHubã€Googleã€QQã€å¾®ä¿¡ï¼‰
   - æˆæƒåè‡ªåŠ¨ç™»å½•

3. **å¯†ç é‡ç½®**
   - ç‚¹å‡»"å¿˜è®°å¯†ç "
   - è¾“å…¥é‚®ç®±ï¼ŒæŸ¥æ”¶é‡ç½®å¯†ç é‚®ä»¶

### åˆ›å»ºå’Œå‘å¸ƒæ–‡ç« 

1. ç™»å½•åç‚¹å‡»"åˆ›å»ºæ–‡ç« "
2. å¡«å†™æ–‡ç« æ ‡é¢˜å’Œå†…å®¹
3. é€‰æ‹©å†…å®¹ç±»å‹ï¼ˆMarkdownæˆ–HTMLï¼‰
4. ä¸Šä¼ æ–‡ç« å°é¢ï¼ˆå¯é€‰ï¼‰
5. æ·»åŠ æ ‡ç­¾ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰
6. é€‰æ‹©åŠ å¯†æ–¹å¼ï¼ˆå¯é€‰ï¼‰
7. ä½¿ç”¨å®æ—¶é¢„è§ˆåŠŸèƒ½
8. ç‚¹å‡»"ä¿å­˜æ–‡ç« "

### æœç´¢æ–‡ç« 

- åœ¨æœç´¢æ è¾“å…¥å…³é”®è¯
- æ”¯æŒæ ‡é¢˜ã€å†…å®¹ã€æ‘˜è¦æœç´¢
- æ”¯æŒæ ‡ç­¾ç­›é€‰

### è®¾ç½®èµèµ

1. åœ¨æ–‡ç« ç¼–è¾‘é¡µé¢
2. é…ç½®æ”¯ä»˜æ–¹å¼ï¼ˆå¾®ä¿¡ã€æ”¯ä»˜å®ã€USDTç­‰ï¼‰
3. ä¸Šä¼ æ”¯ä»˜äºŒç»´ç æˆ–è¾“å…¥åœ°å€
4. ä¿å­˜é…ç½®

### AIæ‘˜è¦åŠŸèƒ½

- å‘å¸ƒæ–‡ç« æ—¶è‡ªåŠ¨ç”Ÿæˆæ‘˜è¦
- å¦‚æœé…ç½®äº†AI APIï¼Œä¼šè‡ªåŠ¨æå–é‡ç‚¹å†…å®¹
- æœªé…ç½®æ—¶ä½¿ç”¨ç®€å•æ–‡æœ¬æ‘˜è¦

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„

```
my-secure-blog/
â”œâ”€â”€ server/                 # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ config/            # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ database.js    # æ•°æ®åº“é…ç½®
â”‚   â”‚   â””â”€â”€ passport.js    # OAuthé…ç½®
â”‚   â”œâ”€â”€ routes/            # è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ auth.js        # è®¤è¯è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ articles.js    # æ–‡ç« è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ payments.js    # æ”¯ä»˜è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ upload.js      # ä¸Šä¼ è·¯ç”±
â”‚   â”‚   â””â”€â”€ users.js       # ç”¨æˆ·è·¯ç”±
â”‚   â”œâ”€â”€ middleware/        # ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ auth.js        # è®¤è¯ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ ai.js          # AIæ‘˜è¦
â”‚   â”‚   â”œâ”€â”€ email.js       # é‚®ä»¶å‘é€
â”‚   â”‚   â””â”€â”€ slugify.js     # URLç”Ÿæˆ
â”‚   â”œâ”€â”€ uploads/           # ä¸Šä¼ æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ index.js           # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ package.json       # åç«¯ä¾èµ–
â”œâ”€â”€ src/                    # å‰ç«¯æºç 
â”‚   â”œâ”€â”€ api/               # APIå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ components/        # Vueç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ArticleList.vue
â”‚   â”‚   â”œâ”€â”€ ArticleCreate.vue
â”‚   â”‚   â”œâ”€â”€ ArticleDetail.vue
â”‚   â”‚   â”œâ”€â”€ ArticleEdit.vue
â”‚   â”‚   â”œâ”€â”€ CommentSection.vue
â”‚   â”‚   â”œâ”€â”€ SearchBar.vue
â”‚   â”‚   â””â”€â”€ DonationSection.vue
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ crypto.js      # åŠ å¯†è§£å¯†
â”‚   â”‚   â”œâ”€â”€ codeHighlight.js # ä»£ç é«˜äº®
â”‚   â”‚   â””â”€â”€ storage.js     # æœ¬åœ°å­˜å‚¨
â”‚   â”œâ”€â”€ App.vue            # ä¸»åº”ç”¨
â”‚   â””â”€â”€ main.js            # å…¥å£æ–‡ä»¶
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/         # GitHub Actions
â”œâ”€â”€ 1panel-deploy.sh       # 1Paneléƒ¨ç½²è„šæœ¬
â”œâ”€â”€ aapanel-deploy.sh      # aaPaneléƒ¨ç½²è„šæœ¬
â””â”€â”€ DEPLOYMENT.md          # éƒ¨ç½²æŒ‡å—
```

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

- æ–‡ç« æ•°æ®å­˜å‚¨åœ¨MySQLæ•°æ®åº“ä¸­ï¼Œå®šæœŸå¤‡ä»½
- åŠ å¯†å¯†ç è¯·å¦¥å–„ä¿ç®¡ï¼Œå¿˜è®°å¯†ç å°†æ— æ³•æ¢å¤æ–‡ç« å†…å®¹
- SHA256/SHA512æ˜¯å•å‘å“ˆå¸Œï¼Œé€‰æ‹©åæ— æ³•æŸ¥çœ‹åŸå§‹å†…å®¹
- JWTå¯†é’¥è¯·ä½¿ç”¨å¼ºéšæœºå­—ç¬¦ä¸²
- OAuthå¯†é’¥è¯·å¦¥å–„ä¿ç®¡ï¼Œä¸è¦æäº¤åˆ°ä»£ç ä»“åº“
- ç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨HTTPS

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT

## ğŸš€ GitHub Pages å¿«é€Ÿéƒ¨ç½²

### ä¸€é”®éƒ¨ç½²æ­¥éª¤

1. **Fork æˆ–å…‹éš†æ­¤ä»“åº“**
   ```bash
   git clone https://github.com/your-username/your-repo-name.git
   ```

2. **ä¿®æ”¹ä»“åº“åé…ç½®**ï¼ˆå¦‚æœä»“åº“åä¸æ˜¯ `my-secure-blog`ï¼‰
   - ç¼–è¾‘ `vite.config.js`ï¼Œä¿®æ”¹ `base` è·¯å¾„
   - æˆ–è®¾ç½®ç¯å¢ƒå˜é‡ `VITE_BASE_PATH`

3. **æ¨é€åˆ°GitHub**
   ```bash
   git add .
   git commit -m "Deploy to GitHub Pages"
   git push origin main
   ```

4. **å¯ç”¨GitHub Pages**
   - è¿›å…¥ä»“åº“ Settings â†’ Pages
   - Source é€‰æ‹© "GitHub Actions"
   - ä¿å­˜è®¾ç½®

5. **ç­‰å¾…è‡ªåŠ¨éƒ¨ç½²**
   - è¿›å…¥ Actions æ ‡ç­¾é¡µæŸ¥çœ‹éƒ¨ç½²çŠ¶æ€
   - éƒ¨ç½²å®Œæˆåè®¿é—®ï¼š`https://[ç”¨æˆ·å].github.io/[ä»“åº“å]/`

è¯¦ç»†éƒ¨ç½²æŒ‡å—è¯·æŸ¥çœ‹ [GITHUB_DEPLOY.md](./GITHUB_DEPLOY.md)

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰å¼€æºé¡¹ç›®çš„æ”¯æŒï¼
